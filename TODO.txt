fiddle with algorithm
add front/back constriction for editor
fix websocket