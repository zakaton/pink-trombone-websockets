<html>
  <head>
    <title>Text to Speech</title>
    <script src="./../src/utils.js"></script>
    <!-- https://github.com/surrsurus/text-to-ipa -->
    <script src="./../src/text-to-ipa.js"></script>
  </head>

  <body>
    <h1>Text to Speech</h1>

    <label
      >text <input type="text" id="text" autocomplete="off" size="70"
    /></label>
    <select id="inputType" hidden>
      <optgroup label="input type"></optgroup>
    </select>
    <p id="validText"></p>
    <label
      >phoneme substitutions
      <select id="phonemeSubstitutions">
        <option>none</option>
      </select></label
    >
    <br /><br />
    <label
      >phonemes <input type="text" id="phonemes" size="70" autocomplete="off"
    /></label>
    <br /><br />
    <div id="controls">
      <label
        >speed
        <input type="number" value="1" id="speed" step="0.1" min="0.1" max="5"
      /></label>
      <button id="play" disabled>play all</button>
      <label
        >whisper <input oninput="onWhisperInput(event)" type="checkbox"
      /></label>
      <button id="download" disabled>download all</button>
      <a id="downloadLink" hidden></a>
    </div>
    <br />
    <div id="results" style="display: flex; flex-direction: column">
      <template id="resultTemplate">
        <div class="result">
          <div
            class="alternatives"
            style="display: flex; flex-direction: row"
          ></div>
          <br />
          <div
            class="phonemes"
            style="display: flex; flex-direction: column"
          ></div>
          <br />
          <button class="play">play</button>
          <br />
          <br />
        </div>
      </template>
      <template id="phonemeTemplate">
        <div class="phoneme">
          <span class="text" style="margin-right: 5px"></span>
          <label
            >offset
            <input
              class="offset"
              type="number"
              value="0.1"
              min="0.05"
              max="2"
              step="0.05"
          /></label>
          <label
            >hold
            <input
              class="hold"
              type="number"
              value="0"
              min="0"
              max="2"
              step="0.05"
          /></label>

          <label
            >semitones
            <input
              class="semitones"
              type="number"
              value="0"
              step="1"
              max="100"
              min="-100"
          /></label>
        </div>
      </template>
      <template id="alternativeTemplate">
        <div class="alternative" style="margin-right: 10px">
          <label><span></span> <input type="radio" /></label>
        </div>
      </template>
    </div>
  </body>
  <script src="./src/script.js"></script>
</html>
